
% experimental Ott grammar for the symbolic output of isla-footprint, based on the Rust isla-lib/srt/smt.rs types

metavar u32 ::= {{ ocaml string}} {{ lex numeric }} {{ ocamllex ['0'-'9']* }}
metavar u64 ::= {{ ocaml string}} {{ lex numeric }} {{ ocamllex ['0'-'9']* }}
%metavar Vec_bool ::= {{ ocaml string}} {{ lex alphanum}} {{ ocamllex ['0'-'9''a'-'f'] }}


grammar

ty :: 'Ty_' ::=
  | Bool                        :: :: Bool
  | BitVec ( u32 )              :: :: BitVec

exp :: '' ::= {{ menhir-start }}
  | Var ( u32 )                 :: ::  Var 
  | Bits ( Vec_bool )           :: ::  Bits 
  | Bits64 ( u64 , u32 )        :: ::  Bits64
  | Bool ( bool )               :: ::  Bool 
  | Eq ( exp , exp' )            :: ::  Eq 
  | Neq ( exp , exp' )           :: ::  Neq
  | And ( exp , exp' )           :: ::  And
  | Or ( exp , exp' )            :: ::  Or
  | Not ( exp )                 :: ::  Not
  | Bvnot ( exp )               :: ::  Bvnot
  | Bvredand ( exp )            :: ::  Bvredand
  | Bvredor ( exp )             :: ::  Bvredor
  | Bvand ( exp , exp' )         :: ::  Bvand
  | Bvor ( exp , exp' )          :: ::  Bvor
  | Bvxor ( exp , exp' )         :: ::  Bvxor
  | Bvnand ( exp , exp' )        :: ::  Bvnand
  | Bvnor ( exp , exp' )         :: ::  Bvnor
  | Bvxnor ( exp , exp' )        :: ::  Bvxnor
  | Bvneg ( exp )               :: ::  Bvneg             
  | Bvadd ( exp , exp' )         :: ::  Bvadd                     
  | Bvsub ( exp , exp' )         :: ::  Bvsub                     
  | Bvmul ( exp , exp' )         :: ::  Bvmul                     
  | Bvudiv ( exp , exp' )        :: ::  Bvudiv            
  | Bvsdiv ( exp , exp' )        :: ::  Bvsdiv            
  | Bvurem ( exp , exp' )        :: ::  Bvurem            
  | Bvsrem ( exp , exp' )        :: ::  Bvsrem            
  | Bvsmod ( exp , exp' )        :: ::  Bvsmod            
  | Bvult ( exp , exp' )         :: ::  Bvult                     
  | Bvslt ( exp , exp' )         :: ::  Bvslt                     
  | Bvule ( exp , exp' )         :: ::  Bvule                     
  | Bvsle ( exp , exp' )         :: ::  Bvsle                     
  | Bvuge ( exp , exp' )         :: ::  Bvuge                     
  | Bvsge ( exp , exp' )         :: ::  Bvsge                     
  | Bvugt ( exp , exp' )         :: ::  Bvugt                     
  | Bvsgt ( exp , exp' )         :: ::  Bvsgt                     
  | Extract ( u32 , u32' , exp'' ) :: ::  Extract
  | ZeroExtend ( u32 , exp' )    :: ::  ZeroExtend
  | SignExtend ( u32 , exp' )    :: ::  SignExtend
  | Bvshl ( exp , exp' )         :: ::  Bvshl 
  | Bvlshr ( exp , exp' )        :: ::  Bvlshr
  | Bvashr ( exp , exp' )        :: ::  Bvashr
  | Concat ( exp , exp' )        :: ::  Concat
  | Ite ( exp , exp' , exp'' )     :: ::  Ite
